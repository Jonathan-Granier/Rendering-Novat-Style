<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rendering in Novat Style: /disc/jgranier/source_code/Rendu-Style-Novat/sources_code/cpp/MainWindow/viewer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="RSN.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rendering in Novat Style
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('viewer_8cpp_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">viewer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="viewer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="viewer_8h.html">viewer.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;QStringList&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;QString&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="meshloader_8h.html">OpenGl/meshloader.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// TODO DELETE ET trouve une solution</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">#define GLM_ENABLE_EXPERIMENTAL</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="viewer_8cpp.html#abd75661fe7969e19439052a5f69ba5d1">   23</a></span>&#160;<span class="preprocessor">#define GLM_ENABLE_EXPERIMENTAL</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;glm/gtx/string_cast.hpp&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceglm.html">glm</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_viewer.html#a6a1f845092e1d4407adabb550e40431b">   30</a></span>&#160;<a class="code" href="class_viewer.html#a6a1f845092e1d4407adabb550e40431b">Viewer::Viewer</a>(QWidget *parent) :</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    QOpenGLWidget(parent),</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    _drawMode(CLASSICAL),</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    _lightMode(false)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    QSurfaceFormat format;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    format.setVersion(4,4);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    format.setProfile(QSurfaceFormat::CoreProfile);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    format.setSamples(16); <span class="comment">// //multisampling (antialiasing) -&gt; add glEnable(GL_MULTISAMPLE); in initialization.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    format.setDepthBufferSize(24);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    this-&gt;setFormat(format);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    create();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    _filepaths.push_back(<span class="stringliteral">&quot;../ressources/models/Basic/Est.asc&quot;</span>);<span class="comment">// BDALTI_Alpe_d_huez.asc&quot;);</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    _light  = make_shared&lt;Light&gt;();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    _needInitializeScene = <span class="keyword">true</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_viewer.html#a56ba84e76143655770007b413c56bb2d">   53</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a56ba84e76143655770007b413c56bb2d">Viewer::initializeGL</a>(){</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    makeCurrent();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// init and check glew</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    glewExperimental = GL_TRUE;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span>(glewInit()!=GLEW_OK) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Warning: glewInit failed!&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// init OpenGL settings</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    glEnable(GL_MULTISAMPLE);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    glClearColor(0.345f, 0.647f, 0.827f, 1.0f); <span class="comment">// Cyan</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">//glClearColor(0.5f, 0.5f, 0.5f, 1.0f);     // Grey</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    glEnable(GL_DEPTH_TEST);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    glPolygonMode(GL_FRONT_AND_BACK,GL_FILL);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    glViewport(0,0,width(),height());</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span>(_needInitializeScene){ <span class="comment">// I don&#39;t know why but i need to reInitialize the OpenGl context . I have probleme with meshLoader.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        _scene  = make_shared&lt;Scene&gt;(width(),height());</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        _needInitializeScene = <span class="keyword">false</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    loadScene();</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    initShaders();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    emit <a class="code" href="class_viewer.html#af745ed208843c07371634616da677e88">initializeDone</a>();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// Rendu loop</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_viewer.html#a0acb833945df75a7547a8aa43d10511a">   92</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a0acb833945df75a7547a8aa43d10511a">Viewer::paintGL</a>(){</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    _scene-&gt;generateLaplacienPyramid();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    _scene-&gt;generateIntermediateScale(_cam-&gt;mdvMatrix(),_cam-&gt;normalMatrix(),_light-&gt;getDirection(),_light-&gt;getPitch(),_light-&gt;getYaw());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">switch</span>(_drawMode){</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>:</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        initDrawTexture(0);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        _scene-&gt;drawHeightMap(_drawTextureShader);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        initDrawTexture(1);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        _scene-&gt;drawEditHeightMap(_drawTextureShader);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        initDrawTexture(2);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        _scene-&gt;drawNormalMap(_drawTextureShader);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a>:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        initDrawTexture(3);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        _scene-&gt;drawSlantMap(_drawTextureShader);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a> :</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        initDrawTexture(4);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        _scene-&gt;drawShadeLightMap(_drawTextureShader);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a> :</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        initDrawTexture(5);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        _scene-&gt;drawShadowLightMap(_drawTextureShader);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a> :</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        initDrawTexture(6);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        _scene-&gt;drawShadowMap(_drawTextureShader);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> :</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        initDrawTexture(7);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        _scene-&gt;drawMorphoDilationMap(_drawTextureShader);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a> :</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        initDrawTexture(8);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        _scene-&gt;drawMorphoErosionMap(_drawTextureShader);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a> :</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        initDrawTexture(9);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        _scene-&gt;drawMergeShadowMap(_drawTextureShader);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a> :</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        _drawTextureShader-&gt;use();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        initDrawTexture(10);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        _scene-&gt;drawShadingMap(_drawTextureShader);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        _drawTextureShader-&gt;disable();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>:</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        _meshShader-&gt;use();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        _meshShader-&gt;setMat4(<span class="stringliteral">&quot;mdvMat&quot;</span>,_cam-&gt;mdvMatrix());</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        _meshShader-&gt;setMat4(<span class="stringliteral">&quot;projMat&quot;</span>,_cam-&gt;projMatrix());</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        _meshShader-&gt;setMat3(<span class="stringliteral">&quot;normalMat&quot;</span>,_cam-&gt;normalMatrix());</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        _meshShader-&gt;setVec3(<span class="stringliteral">&quot;lightDirection&quot;</span>,_light-&gt;getDirection());</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        _meshShader-&gt;setVec3(<span class="stringliteral">&quot;cameraPosition&quot;</span>,_cam-&gt;view());</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        _scene-&gt;draw(_meshShader,_light-&gt;getDirection());</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        _meshShader-&gt;disable();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_viewer.html#a03c6a6d6c43c9fbcc26d11cb944d4875">  178</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a03c6a6d6c43c9fbcc26d11cb944d4875">Viewer::resizeGL</a>(<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height){</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">//_cam-&gt;initialize(width,height,false);</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//glViewport(0,0,width,height);</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    update();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="class_viewer.html#aa8cd58104b20ce3ba5ec502eb09afca6">  187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#aa8cd58104b20ce3ba5ec502eb09afca6">Viewer::mousePressEvent</a>(QMouseEvent *me){</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    _moussePos = vec2((<span class="keywordtype">float</span>)me-&gt;x(),(float)(height()-me-&gt;y()));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span>(me-&gt;button()==Qt::LeftButton) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        _lightMode = <span class="keyword">false</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        _cam-&gt;initRotation(_moussePos);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(me-&gt;button()==Qt::MidButton) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        _lightMode = <span class="keyword">false</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        _cam-&gt;initMoveZ(_moussePos);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(me-&gt;button()==Qt::RightButton) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        _lightMode = <span class="keyword">true</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        _light-&gt;startMoveAroundYAxe(_moussePos,width(),height());</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    update();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="class_viewer.html#a3d05b37233c2d97f4e68b2ee5a1277e2">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a3d05b37233c2d97f4e68b2ee5a1277e2">Viewer::mouseMoveEvent</a>(QMouseEvent *me){</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   _moussePos = vec2((<span class="keywordtype">float</span>)me-&gt;x(),(float)(height()-me-&gt;y()));</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span>(_lightMode)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        _light-&gt;moveAroundYAxe(_moussePos,width(),height());</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        _cam-&gt;move(_moussePos);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    update();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="class_viewer.html#ae78fd4f1bc967680c8d799606474fcac">  215</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ae78fd4f1bc967680c8d799606474fcac">Viewer::setHeightLight</a>(<span class="keywordtype">float</span> angle)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    _light-&gt;moveAroundXZ(glm::radians(angle));</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    update();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="class_viewer.html#a22675623d4826693e8f0f511cb54283a">  221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a22675623d4826693e8f0f511cb54283a">Viewer::setPitchShadowLight</a>(<span class="keywordtype">float</span> p)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    _scene-&gt;setPitchLightShadow(glm::radians(p));</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    update();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="class_viewer.html#a578074b6ad07554ede13386f925a3e85">  230</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a578074b6ad07554ede13386f925a3e85">Viewer::resetTheCameraPosition</a>(){</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    _cam-&gt;initialize(width(),height(),<span class="keyword">true</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    _light = make_shared&lt;Light&gt;();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    update();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="class_viewer.html#a2b88f276e9d8a1e5b066c3607abc6ba9">  236</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a2b88f276e9d8a1e5b066c3607abc6ba9">Viewer::reloadShader</a>(){</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    _meshShader-&gt;reload();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">//_shadowMap-&gt;reloadShader();</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    _drawTextureShader-&gt;reload();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    _scene-&gt;reloadGenerateTexturesShader();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;reload shader done &quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    update();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="class_viewer.html#ad46168084902665e9cfe3657777c114d">  249</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ad46168084902665e9cfe3657777c114d">Viewer::printCamAndLight</a>(){</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;proj mat : &quot;</span> &lt;&lt; glm::to_string(_cam-&gt;projMatrix()) &lt;&lt; endl;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;mdv mat : &quot;</span> &lt;&lt; glm::to_string(_cam-&gt;mdvMatrix()) &lt;&lt; endl;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;normal mat : &quot;</span> &lt;&lt; glm::to_string(_cam -&gt;normalMatrix()) &lt;&lt; endl;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot; light&#39;s angles : yaw : &quot;</span> &lt;&lt; _light-&gt;getYaw() &lt;&lt; <span class="stringliteral">&quot; pitch : &quot;</span> &lt;&lt; _light-&gt;getPitch() &lt;&lt; endl;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_viewer.html#a27fe7808e15029136bda680e8457355b">  257</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a27fe7808e15029136bda680e8457355b">Viewer::fixeCamAndLight</a>()</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    _cam-&gt;setFixePosition();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    _light-&gt;setFixeDirection();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    update();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="class_viewer.html#a8ae6059ab3d32ed849760be90e67779b">  266</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a8ae6059ab3d32ed849760be90e67779b">Viewer::nextDrawMode</a>(){</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">switch</span>(_drawMode){</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>:       _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>:   _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>:       _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a>       ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a> :       _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a> :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a> ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a>:  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a>         ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a> :         _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> : _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a> :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a>    ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a> :    _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a>        ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a> :        _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>:       _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    update();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="class_viewer.html#afd6dcba421a144b6c55a409121b541ba">  284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#afd6dcba421a144b6c55a409121b541ba">Viewer::setDrawMode</a>(<span class="keywordtype">int</span> d)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">switch</span>(d){</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">case</span> 0 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">case</span> 1 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">case</span> 2 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">case</span> 3 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a>       ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">case</span> 4 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">case</span> 5 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a> ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">case</span> 6 :  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a>         ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">case</span> 7:   _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">case</span> 8:   _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">case</span> 9:   _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a>    ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">case</span> 10:  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a>        ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">case</span> 11:  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">default</span>:  _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>      ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    update();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="class_viewer.html#ae73b760a7a67dad9cc6cabdcce0627e1">  305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ae73b760a7a67dad9cc6cabdcce0627e1">Viewer::previousDrawMode</a>(){</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">switch</span>(_drawMode){</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>:         _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>       ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>:     _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>       ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>:         _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>   ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a> :         _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>       ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a> :    _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a>        ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a>:    _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a>   ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a> :           _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> :   _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a>          ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a> :    _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a>  ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a> :      _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a>   ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a> :          _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a>     ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>:         _drawMode = <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a>         ; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    update();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="class_viewer.html#a931bb934d65aac16027ce3eef77a15f6">  323</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a931bb934d65aac16027ce3eef77a15f6">Viewer::selectCurrentScale</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>){</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    _scene-&gt;selectCurrentScale(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    update();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_viewer.html#a69e950cd1f98ec6f7d185a540d8dacb3">  329</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_viewer.html#a69e950cd1f98ec6f7d185a540d8dacb3">Viewer::loadSceneFromFile</a>(<span class="keyword">const</span> QStringList &amp;fileNames)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    _filepaths.clear();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    QString ext_ref = fileNames.at(0).section(<span class="charliteral">&#39;.&#39;</span>,-1);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>(ext_ref.compare(<span class="stringliteral">&quot;asc&quot;</span>)==0){</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        _filepaths.push_back(fileNames.at(0).toStdString());</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=1; i &lt;fileNames.size();i++){</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        QString ext = fileNames.at(i).section(<span class="charliteral">&#39;.&#39;</span>,-1);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span>(ext.compare(ext_ref)==0)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            _filepaths.push_back(fileNames.at(i).toStdString());</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="class_viewer.html#a56ba84e76143655770007b413c56bb2d">initializeGL</a>();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">//loadScene();</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    update();</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="class_viewer.html#ab1b14065408d7f3527572df52ae30dac">  359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ab1b14065408d7f3527572df52ae30dac">Viewer::generateScene</a>(){</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    _filepaths.clear();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="class_viewer.html#a56ba84e76143655770007b413c56bb2d">initializeGL</a>();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    update();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="class_viewer.html#aac2fe9763608b643ad8963e4e3a93772">  366</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="class_viewer.html#aac2fe9763608b643ad8963e4e3a93772">Viewer::getCurrentDrawMode</a>()</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">string</span> stringdrawMode;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">switch</span>(_drawMode){</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">HEIGHTMAP</a>:</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Height Map&quot;</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">EDITHEIGHTMAP</a>:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Edit Height Map&quot;</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">NORMALMAP</a>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Normal Map&quot;</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">SLANTMAP</a>:</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Slant Map&quot;</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">SHADELIGHTMAP</a> :</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Shade Light Map&quot;</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">SHADOWLIGHTMAP</a> :</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Shadow Light Map&quot;</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">SHADOW</a> :</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Shadow Map&quot;</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">MORPHODILATION</a> :</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Morpho Dilation Map&quot;</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">MORPHOEROSION</a> :</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Morpho Erosion Map&quot;</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">MERGESHADOW</a> :</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Merge Shadow Map&quot;</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">SHADING</a> :</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;Shading Map&quot;</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">CLASSICAL</a>:</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            stringdrawMode = <span class="stringliteral">&quot;World&quot;</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> stringdrawMode;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="class_viewer.html#a72a45ecd52751f42ba17db4e198d1e92">  412</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a72a45ecd52751f42ba17db4e198d1e92">Viewer::setLightThreshold</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">float</span> t)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    _scene-&gt;setLightThreshold(<span class="keywordtype">id</span>,t);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    update();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="class_viewer.html#a66fcd6919dab1176789f987c9c256993">  419</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a66fcd6919dab1176789f987c9c256993">Viewer::setGaussBlurFactor</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> g)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    _scene-&gt;setGaussBlurFactor(<span class="keywordtype">id</span>,g);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    update();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="class_viewer.html#a0af8cfc7eafd4c88716c4328c4565aa4">  427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a0af8cfc7eafd4c88716c4328c4565aa4">Viewer::setEnabledScale</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>,<span class="keywordtype">bool</span> enabled){</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    _scene-&gt;setEnabledScale(<span class="keywordtype">id</span>,enabled);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    update();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="class_viewer.html#a6f8614c61a96966cc554ef23836e3dad">  432</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a6f8614c61a96966cc554ef23836e3dad">Viewer::reloadLaplacienPyramid</a>(){</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    _scene-&gt;reloadLaplacienPyramid();</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    update();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="class_viewer.html#a6557732ee07f4c149e672f66cefcae4a">  438</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a6557732ee07f4c149e672f66cefcae4a">Viewer::addScale</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>){</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    _scene-&gt;addScale(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    update();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="class_viewer.html#a8ed1c8734ced17ee5dfc653a49f4af75">  445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a8ed1c8734ced17ee5dfc653a49f4af75">Viewer::setShadeSelector</a>(<span class="keywordtype">int</span> s){</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    _scene-&gt;setShadeSelector(s);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    update();</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="class_viewer.html#aca4913c27897d915fddadb1186eae2c2">  450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#aca4913c27897d915fddadb1186eae2c2">Viewer::setDoShadow</a>(<span class="keywordtype">int</span> b)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    _scene-&gt;setDoShadow(b);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    update();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="class_viewer.html#ac5f6d06d9391020c9738bd1781886b01">  457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ac5f6d06d9391020c9738bd1781886b01">Viewer::setDoEditShadeLightDir</a>(<span class="keywordtype">int</span> b)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    _scene-&gt;setDoEditShadeLightDir(b);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    update();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="class_viewer.html#ae570ef6dbd5bdf09f8805e23a3e1a6e4">  463</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ae570ef6dbd5bdf09f8805e23a3e1a6e4">Viewer::setDoEditShadowLightDir</a>(<span class="keywordtype">int</span> b)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    _scene-&gt;setDoEditShadowLightDir(b);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    update();</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="class_viewer.html#ad3604e212f88db8fec6efa435970a56c">  469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#ad3604e212f88db8fec6efa435970a56c">Viewer::setDoShadowMorpho</a>(<span class="keywordtype">int</span> b)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    _scene-&gt;setDoShadowMorpho(b);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    update();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="class_viewer.html#acc2321bb3473713ed2d3d0e8d18f5538">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#acc2321bb3473713ed2d3d0e8d18f5538">Viewer::setPlainColor</a>(<span class="keyword">const</span> QColor &amp;plainColor)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    qreal r,g,b,a;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    plainColor.getRgbF(&amp;r,&amp;g,&amp;b,&amp;a);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    _scene-&gt;setPlainColor(vec4(r,g,b,a));</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;     update();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="class_viewer.html#a987d8e0a192a4e4c93bc4b1e258329a4">  484</a></span>&#160;QColor <a class="code" href="class_viewer.html#a987d8e0a192a4e4c93bc4b1e258329a4">Viewer::getPlainColor</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    vec4 c = _scene-&gt;getPlainColor();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    QColor qc;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    qc.setRgbF(c.r,c.g,c.b,c.a);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> qc;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="class_viewer.html#a030c107e8d0f2786416d247db08157b3">  492</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a030c107e8d0f2786416d247db08157b3">Viewer::setWaterColor</a>(<span class="keyword">const</span> QColor &amp;waterColor)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    qreal r,g,b,a;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    waterColor.getRgbF(&amp;r,&amp;g,&amp;b,&amp;a);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    _scene-&gt;setWaterColor(vec4(r,g,b,a));</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;     update();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="class_viewer.html#a18f74c535384cd3de493404df591a923">  500</a></span>&#160;QColor <a class="code" href="class_viewer.html#a18f74c535384cd3de493404df591a923">Viewer::getWaterColor</a>()<span class="keyword"> const</span>{</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    vec4 c = _scene-&gt;getWaterColor();</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    QColor qc;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    qc.setRgbF(c.r,c.g,c.b,c.a);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> qc;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="class_viewer.html#a3d523791d72f865195d065871bce7383">  507</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a3d523791d72f865195d065871bce7383">Viewer::loadColorMapTex</a>(QString filepaths){</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    _scene-&gt;loadColorMapTex(filepaths.toStdString());</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;     update();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="class_viewer.html#a2b0b9b73df482d7b1c82fe99df2b65a1">  512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a2b0b9b73df482d7b1c82fe99df2b65a1">Viewer::loadCelShadingTex</a>(QString filepaths){</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    _scene-&gt;loadCelShadingTex(filepaths.toStdString());</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;     update();</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="class_viewer.html#a98b4ee8708369ed60d227d49bc3b2920">  520</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a98b4ee8708369ed60d227d49bc3b2920">Viewer::setColorSelector</a>(<span class="keywordtype">int</span> c)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    _scene-&gt;setColorSelector(c);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    update();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="class_viewer.html#a18808efb20e5507989b0262a702456e2">  527</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_viewer.html#a18808efb20e5507989b0262a702456e2">Viewer::setDoDefaultShading</a>(<span class="keywordtype">bool</span> b)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   _scene-&gt;setDoDefaultShading(b);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   update();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/************************************************</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> *              Private Functions               *</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> ************************************************/</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="keywordtype">void</span> Viewer::loadScene()</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    _scene-&gt;createScene(_filepaths);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    _cam    = make_shared&lt;Camera&gt;(_scene-&gt;getRadius(),_scene-&gt;getCenter());</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    _cam-&gt;initialize(width(),height(),<span class="keyword">true</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keywordtype">void</span> Viewer::initShaders(){</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    _meshShader = make_shared&lt;Shader&gt;(<span class="stringliteral">&quot;../sources_code/shaders/computelight.vert&quot;</span>, <span class="stringliteral">&quot;../sources_code/shaders/computelight.frag&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    _drawTextureShader = make_shared&lt;Shader&gt;(<span class="stringliteral">&quot;../sources_code/shaders/drawtexture.vert&quot;</span>,<span class="stringliteral">&quot;../sources_code/shaders/drawtexture.frag&quot;</span>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="keywordtype">void</span> Viewer::initDrawTexture(<span class="keywordtype">int</span> numTex){</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    _drawTextureShader-&gt;setInt(<span class="stringliteral">&quot;selectTexture&quot;</span>,numTex);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    _drawTextureShader-&gt;setVec2(<span class="stringliteral">&quot;moussePos&quot;</span>,_moussePos);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    _scene-&gt;sendAsciiTexToShader(_drawTextureShader);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div><div class="ttc" id="class_viewer_html_a987d8e0a192a4e4c93bc4b1e258329a4"><div class="ttname"><a href="class_viewer.html#a987d8e0a192a4e4c93bc4b1e258329a4">Viewer::getPlainColor</a></div><div class="ttdeci">QColor getPlainColor() const</div><div class="ttdoc">Return the actual color of the colorization methode plain color. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00484">viewer.cpp:484</a></div></div>
<div class="ttc" id="class_viewer_html_a2b88f276e9d8a1e5b066c3607abc6ba9"><div class="ttname"><a href="class_viewer.html#a2b88f276e9d8a1e5b066c3607abc6ba9">Viewer::reloadShader</a></div><div class="ttdeci">void reloadShader()</div><div class="ttdoc">Read and compile all shaders. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00236">viewer.cpp:236</a></div></div>
<div class="ttc" id="class_viewer_html_a18808efb20e5507989b0262a702456e2"><div class="ttname"><a href="class_viewer.html#a18808efb20e5507989b0262a702456e2">Viewer::setDoDefaultShading</a></div><div class="ttdeci">void setDoDefaultShading(bool b)</div><div class="ttdoc">set if we compute ur shading methode or if we compute a classic lambertien with native normal and the...</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00527">viewer.cpp:527</a></div></div>
<div class="ttc" id="class_viewer_html_a72a45ecd52751f42ba17db4e198d1e92"><div class="ttname"><a href="class_viewer.html#a72a45ecd52751f42ba17db4e198d1e92">Viewer::setLightThreshold</a></div><div class="ttdeci">void setLightThreshold(unsigned int id, float t)</div><div class="ttdoc">Set the light Threshold that is the threshold for the smoothstep for the light correction, for a scale. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00412">viewer.cpp:412</a></div></div>
<div class="ttc" id="viewer_8h_html"><div class="ttname"><a href="viewer_8h.html">viewer.h</a></div></div>
<div class="ttc" id="class_viewer_html_ad3604e212f88db8fec6efa435970a56c"><div class="ttname"><a href="class_viewer.html#ad3604e212f88db8fec6efa435970a56c">Viewer::setDoShadowMorpho</a></div><div class="ttdeci">void setDoShadowMorpho(int b)</div><div class="ttdoc">Set if the mathematical morphology on the shadow is done or not. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00469">viewer.cpp:469</a></div></div>
<div class="ttc" id="class_viewer_html_af745ed208843c07371634616da677e88"><div class="ttname"><a href="class_viewer.html#af745ed208843c07371634616da677e88">Viewer::initializeDone</a></div><div class="ttdeci">void initializeDone()</div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a9dc068abb48839917eb57a3201adfa22">Viewer::NORMALMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00064">viewer.h:64</a></div></div>
<div class="ttc" id="class_viewer_html_aac2fe9763608b643ad8963e4e3a93772"><div class="ttname"><a href="class_viewer.html#aac2fe9763608b643ad8963e4e3a93772">Viewer::getCurrentDrawMode</a></div><div class="ttdeci">std::string getCurrentDrawMode()</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00366">viewer.cpp:366</a></div></div>
<div class="ttc" id="namespaceglm_html"><div class="ttname"><a href="namespaceglm.html">glm</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a39f1af225b94e5c3707a337de0dccf43">Viewer::MORPHOEROSION</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00074">viewer.h:74</a></div></div>
<div class="ttc" id="class_viewer_html_a6f8614c61a96966cc554ef23836e3dad"><div class="ttname"><a href="class_viewer.html#a6f8614c61a96966cc554ef23836e3dad">Viewer::reloadLaplacienPyramid</a></div><div class="ttdeci">void reloadLaplacienPyramid()</div><div class="ttdoc">Reload the laplacien pyramid. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00432">viewer.cpp:432</a></div></div>
<div class="ttc" id="class_viewer_html_a3d523791d72f865195d065871bce7383"><div class="ttname"><a href="class_viewer.html#a3d523791d72f865195d065871bce7383">Viewer::loadColorMapTex</a></div><div class="ttdeci">void loadColorMapTex(QString filepaths)</div><div class="ttdoc">Load a new texture for the colorMap colorization methode. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00507">viewer.cpp:507</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555ade5db53ff6eebf0569a498436cefd7fe">Viewer::EDITHEIGHTMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00060">viewer.h:60</a></div></div>
<div class="ttc" id="class_viewer_html_ab1b14065408d7f3527572df52ae30dac"><div class="ttname"><a href="class_viewer.html#ab1b14065408d7f3527572df52ae30dac">Viewer::generateScene</a></div><div class="ttdeci">void generateScene()</div><div class="ttdoc">Generate a scene from the genheightmap.frag shader. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00359">viewer.cpp:359</a></div></div>
<div class="ttc" id="class_viewer_html_ac5f6d06d9391020c9738bd1781886b01"><div class="ttname"><a href="class_viewer.html#ac5f6d06d9391020c9738bd1781886b01">Viewer::setDoEditShadeLightDir</a></div><div class="ttdeci">void setDoEditShadeLightDir(int b)</div><div class="ttdoc">Set if the light for compute the shade is the global light or the oriented light. ...</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00457">viewer.cpp:457</a></div></div>
<div class="ttc" id="class_viewer_html_ae73b760a7a67dad9cc6cabdcce0627e1"><div class="ttname"><a href="class_viewer.html#ae73b760a7a67dad9cc6cabdcce0627e1">Viewer::previousDrawMode</a></div><div class="ttdeci">void previousDrawMode()</div><div class="ttdoc">Set the drawmode to the previous state. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00305">viewer.cpp:305</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="class_viewer_html_a3d05b37233c2d97f4e68b2ee5a1277e2"><div class="ttname"><a href="class_viewer.html#a3d05b37233c2d97f4e68b2ee5a1277e2">Viewer::mouseMoveEvent</a></div><div class="ttdeci">virtual void mouseMoveEvent(QMouseEvent *me)</div><div class="ttdoc">Intercepts the movements of the mouss when a button is pressed and do something depeding the button p...</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00202">viewer.cpp:202</a></div></div>
<div class="ttc" id="meshloader_8h_html"><div class="ttname"><a href="meshloader_8h.html">meshloader.h</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a843c5fb102790df9f60ac5386ab211ce">Viewer::MORPHODILATION</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00072">viewer.h:72</a></div></div>
<div class="ttc" id="class_viewer_html_a8ae6059ab3d32ed849760be90e67779b"><div class="ttname"><a href="class_viewer.html#a8ae6059ab3d32ed849760be90e67779b">Viewer::nextDrawMode</a></div><div class="ttdeci">void nextDrawMode()</div><div class="ttdoc">Set the drawmode to the next state. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00266">viewer.cpp:266</a></div></div>
<div class="ttc" id="class_viewer_html_aca4913c27897d915fddadb1186eae2c2"><div class="ttname"><a href="class_viewer.html#aca4913c27897d915fddadb1186eae2c2">Viewer::setDoShadow</a></div><div class="ttdeci">void setDoShadow(int b)</div><div class="ttdoc">Enabled or disabled the shadow (compute and draw) </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00450">viewer.cpp:450</a></div></div>
<div class="ttc" id="class_viewer_html_a22675623d4826693e8f0f511cb54283a"><div class="ttname"><a href="class_viewer.html#a22675623d4826693e8f0f511cb54283a">Viewer::setPitchShadowLight</a></div><div class="ttdeci">void setPitchShadowLight(float p)</div><div class="ttdoc">Set the picht of the light for the shadowLightMap. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00221">viewer.cpp:221</a></div></div>
<div class="ttc" id="class_viewer_html_a56ba84e76143655770007b413c56bb2d"><div class="ttname"><a href="class_viewer.html#a56ba84e76143655770007b413c56bb2d">Viewer::initializeGL</a></div><div class="ttdeci">virtual void initializeGL()</div><div class="ttdoc">Initialize openGL context and the different element of viewer (Scene, camera, shader). </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00053">viewer.cpp:53</a></div></div>
<div class="ttc" id="class_viewer_html_a2b0b9b73df482d7b1c82fe99df2b65a1"><div class="ttname"><a href="class_viewer.html#a2b0b9b73df482d7b1c82fe99df2b65a1">Viewer::loadCelShadingTex</a></div><div class="ttdeci">void loadCelShadingTex(QString filepaths)</div><div class="ttdoc">Load a new texture for the cel-shading colorization methode. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00512">viewer.cpp:512</a></div></div>
<div class="ttc" id="class_viewer_html_ad46168084902665e9cfe3657777c114d"><div class="ttname"><a href="class_viewer.html#ad46168084902665e9cfe3657777c114d">Viewer::printCamAndLight</a></div><div class="ttdeci">void printCamAndLight()</div><div class="ttdoc">Print the camera and light data. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00249">viewer.cpp:249</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4a601dbd5a716ae9f0d2266a7551d9bc">Viewer::SHADOWLIGHTMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00068">viewer.h:68</a></div></div>
<div class="ttc" id="class_viewer_html_aa8cd58104b20ce3ba5ec502eb09afca6"><div class="ttname"><a href="class_viewer.html#aa8cd58104b20ce3ba5ec502eb09afca6">Viewer::mousePressEvent</a></div><div class="ttdeci">virtual void mousePressEvent(QMouseEvent *me)</div><div class="ttdoc">Intercepts the imput of the mousse and do something depeding on the pressed key. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00187">viewer.cpp:187</a></div></div>
<div class="ttc" id="class_viewer_html_a6a1f845092e1d4407adabb550e40431b"><div class="ttname"><a href="class_viewer.html#a6a1f845092e1d4407adabb550e40431b">Viewer::Viewer</a></div><div class="ttdeci">Viewer(QWidget *parent=0)</div><div class="ttdoc">Classic QWidget constructor, set up a QSurfaceFormat. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00030">viewer.cpp:30</a></div></div>
<div class="ttc" id="class_viewer_html_a8ed1c8734ced17ee5dfc653a49f4af75"><div class="ttname"><a href="class_viewer.html#a8ed1c8734ced17ee5dfc653a49f4af75">Viewer::setShadeSelector</a></div><div class="ttdeci">void setShadeSelector(int s)</div><div class="ttdoc">Select the merge method for the shading. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00445">viewer.cpp:445</a></div></div>
<div class="ttc" id="class_viewer_html_afd6dcba421a144b6c55a409121b541ba"><div class="ttname"><a href="class_viewer.html#afd6dcba421a144b6c55a409121b541ba">Viewer::setDrawMode</a></div><div class="ttdeci">void setDrawMode(int d)</div><div class="ttdoc">Set the drawmode to a specifique state. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00284">viewer.cpp:284</a></div></div>
<div class="ttc" id="class_viewer_html_a98b4ee8708369ed60d227d49bc3b2920"><div class="ttname"><a href="class_viewer.html#a98b4ee8708369ed60d227d49bc3b2920">Viewer::setColorSelector</a></div><div class="ttdeci">void setColorSelector(int c)</div><div class="ttdoc">Select the colorization methode. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00520">viewer.cpp:520</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555accbb141ac36c953d3974e046612686e7">Viewer::SLANTMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00062">viewer.h:62</a></div></div>
<div class="ttc" id="class_viewer_html_a18f74c535384cd3de493404df591a923"><div class="ttname"><a href="class_viewer.html#a18f74c535384cd3de493404df591a923">Viewer::getWaterColor</a></div><div class="ttdeci">QColor getWaterColor() const</div><div class="ttdoc">return the actual color of the colorization methode watercolor. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00500">viewer.cpp:500</a></div></div>
<div class="ttc" id="class_viewer_html_a66fcd6919dab1176789f987c9c256993"><div class="ttname"><a href="class_viewer.html#a66fcd6919dab1176789f987c9c256993">Viewer::setGaussBlurFactor</a></div><div class="ttdeci">void setGaussBlurFactor(unsigned int id, int g)</div><div class="ttdoc">Set the sigma for the gauss blur. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00419">viewer.cpp:419</a></div></div>
<div class="ttc" id="class_viewer_html_a6557732ee07f4c149e672f66cefcae4a"><div class="ttname"><a href="class_viewer.html#a6557732ee07f4c149e672f66cefcae4a">Viewer::addScale</a></div><div class="ttdeci">void addScale(unsigned int id)</div><div class="ttdoc">add a scale to the laplacien pyramid. We can&amp;#39;t have more than 10 scale. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00438">viewer.cpp:438</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a2a2f6a2c009ddd6610590f363722d356">Viewer::HEIGHTMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00058">viewer.h:58</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4e9aa75cce853aaf0365ccc7685270f0">Viewer::SHADING</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00078">viewer.h:78</a></div></div>
<div class="ttc" id="class_viewer_html_ae78fd4f1bc967680c8d799606474fcac"><div class="ttname"><a href="class_viewer.html#ae78fd4f1bc967680c8d799606474fcac">Viewer::setHeightLight</a></div><div class="ttdeci">void setHeightLight(float theta)</div><div class="ttdoc">Set height of the global light. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00215">viewer.cpp:215</a></div></div>
<div class="ttc" id="class_viewer_html_a578074b6ad07554ede13386f925a3e85"><div class="ttname"><a href="class_viewer.html#a578074b6ad07554ede13386f925a3e85">Viewer::resetTheCameraPosition</a></div><div class="ttdeci">void resetTheCameraPosition()</div><div class="ttdoc">Reset the camera and the light postion. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00230">viewer.cpp:230</a></div></div>
<div class="ttc" id="class_viewer_html_ae570ef6dbd5bdf09f8805e23a3e1a6e4"><div class="ttname"><a href="class_viewer.html#ae570ef6dbd5bdf09f8805e23a3e1a6e4">Viewer::setDoEditShadowLightDir</a></div><div class="ttdeci">void setDoEditShadowLightDir(int b)</div><div class="ttdoc">Set if the light for compute the shade is the global light or the oriented light. ...</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00463">viewer.cpp:463</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a47211dfd451236328855d66f30e5b61e">Viewer::CLASSICAL</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00056">viewer.h:56</a></div></div>
<div class="ttc" id="class_viewer_html_a0af8cfc7eafd4c88716c4328c4565aa4"><div class="ttname"><a href="class_viewer.html#a0af8cfc7eafd4c88716c4328c4565aa4">Viewer::setEnabledScale</a></div><div class="ttdeci">void setEnabledScale(unsigned int id, bool enabled)</div><div class="ttdoc">Enabled or disabled a scale. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00427">viewer.cpp:427</a></div></div>
<div class="ttc" id="class_viewer_html_acc2321bb3473713ed2d3d0e8d18f5538"><div class="ttname"><a href="class_viewer.html#acc2321bb3473713ed2d3d0e8d18f5538">Viewer::setPlainColor</a></div><div class="ttdeci">void setPlainColor(const QColor &amp;plainColor)</div><div class="ttdoc">Set the color of the colorization methode plain color. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00476">viewer.cpp:476</a></div></div>
<div class="ttc" id="class_viewer_html_a931bb934d65aac16027ce3eef77a15f6"><div class="ttname"><a href="class_viewer.html#a931bb934d65aac16027ce3eef77a15f6">Viewer::selectCurrentScale</a></div><div class="ttdeci">void selectCurrentScale(int id)</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00323">viewer.cpp:323</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a8fa510374fe7b02a10b225f73559d02b">Viewer::SHADELIGHTMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00066">viewer.h:66</a></div></div>
<div class="ttc" id="class_viewer_html_a0acb833945df75a7547a8aa43d10511a"><div class="ttname"><a href="class_viewer.html#a0acb833945df75a7547a8aa43d10511a">Viewer::paintGL</a></div><div class="ttdeci">virtual void paintGL()</div><div class="ttdoc">Main loop of rendering. Draw a texture and or the mesh depending on the state (_drawmode) ...</div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00092">viewer.cpp:92</a></div></div>
<div class="ttc" id="class_viewer_html_a030c107e8d0f2786416d247db08157b3"><div class="ttname"><a href="class_viewer.html#a030c107e8d0f2786416d247db08157b3">Viewer::setWaterColor</a></div><div class="ttdeci">void setWaterColor(const QColor &amp;waterColor)</div><div class="ttdoc">Set the color of the colorization methode watercolor. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00492">viewer.cpp:492</a></div></div>
<div class="ttc" id="class_viewer_html_a27fe7808e15029136bda680e8457355b"><div class="ttname"><a href="class_viewer.html#a27fe7808e15029136bda680e8457355b">Viewer::fixeCamAndLight</a></div><div class="ttdeci">void fixeCamAndLight()</div><div class="ttdoc">Fixe the camera and the light to hard code positions. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00257">viewer.cpp:257</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a4931d2ac5b09d77343ee7e53dc1e8afe">Viewer::SHADOW</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00070">viewer.h:70</a></div></div>
<div class="ttc" id="class_viewer_html_a03c6a6d6c43c9fbcc26d11cb944d4875"><div class="ttname"><a href="class_viewer.html#a03c6a6d6c43c9fbcc26d11cb944d4875">Viewer::resizeGL</a></div><div class="ttdeci">virtual void resizeGL(int width, int height)</div><div class="ttdoc">Resize the widget. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00178">viewer.cpp:178</a></div></div>
<div class="ttc" id="class_viewer_html_a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc"><div class="ttname"><a href="class_viewer.html#a7698d8927214aa1d2361e72f0d254555a38da33e8c6964ffc8816b501ff0bf1bc">Viewer::MERGESHADOW</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00076">viewer.h:76</a></div></div>
<div class="ttc" id="class_viewer_html_a69e950cd1f98ec6f7d185a540d8dacb3"><div class="ttname"><a href="class_viewer.html#a69e950cd1f98ec6f7d185a540d8dacb3">Viewer::loadSceneFromFile</a></div><div class="ttdeci">bool loadSceneFromFile(const QStringList &amp;fileNames)</div><div class="ttdoc">Check and copy a stack file in _filepaths. </div><div class="ttdef"><b>Definition:</b> <a href="viewer_8cpp_source.html#l00329">viewer.cpp:329</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3aee2e1504519fd744496901abcb59d5.html">sources_code</a></li><li class="navelem"><a class="el" href="dir_c7be05d489c8fe0ffa0b15473a88297c.html">cpp</a></li><li class="navelem"><a class="el" href="dir_3fb7699cfdbc43e02b55b3bd293c8820.html">MainWindow</a></li><li class="navelem"><a class="el" href="viewer_8cpp.html">viewer.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
